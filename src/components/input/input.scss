@import 'variables';
@import 'mixins';

$input-font-family: $font-sans-serif !default;
$input-font-weight: $font-weight-normal !default;
$input-font-size--small: $form-control-font-size--small !default;
$input-font-size--medium: $form-control-font-size--medium !default;
$input-font-size--large: $form-control-font-size--large !default;

$input-background-color: $color-white !default;
$input-color: $form-control-color !default;

$input-height--small: $form-control-height--small !default;
$input-height--medium: $form-control-height--medium !default;
$input-height--large: $form-control-height--large !default;

$input-border-radius--small: 4px !default;
$input-border-radius--medium: 4px !default;
$input-border-radius--large: 4px !default;

$input-padding-x--small: 14px !default;
$input-padding-x--medium: 14px !default;
$input-padding-x--large: 14px !default;

$input-placeholder-color: $color-gray-70 !default;
$input-transition-speed: 100ms !default;

:host {
  display: block;
}

.s-input {
  @include input(
    $color: $input-color,
    $background-color: $input-background-color,
    $border-color: $form-control-border-color,
    $color--hover: $input-color,
    $background-color--hover: $input-background-color,
    $border-color--hover: shade($form-control-border-color, 10%),
    $color--focus: $input-color,
    $background-color--focus: $input-background-color,
    $border-color--focus: $color-primary,
    $color--disabled: $input-color,
    $background-color--disabled: shade($input-background-color, 5%),
    $border-color--disabled: $form-control-border-color,
    $placeholder-color: $input-placeholder-color
  );
}

// Size modifiers
.s-input--small {
  border-radius: $input-border-radius--small;
  font-size: $input-font-size--small;
  padding: 0 $input-padding-x--small;

  .s-input__control {
    height: $input-height--small;
    line-height: $input-height--small - 2px; // top + bottom border
  }
}

.s-input--medium {
  border-radius: $input-border-radius--medium;
  font-size: $input-font-size--medium;
  padding: 0 $input-padding-x--medium;

  .s-input__control {
    height: $input-height--medium;
    line-height: $input-height--medium - 2px; // top + bottom border
  }
}

.s-input--large {
  border-radius: $input-border-radius--large;
  font-size: $input-font-size--large;
  padding: 0 $input-padding-x--large;

  .s-input__control {
    height: $input-height--large;
    line-height: $input-height--large - 2px; // top + bottom border
  }
}

// Clearable
.s-input__clear {
  display: flex;
  align-items: center;
  font-size: inherit;
  color: $input-placeholder-color;
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  svg {
    width: 1em;
    height: 1em;
  }

  &:hover,
  &:focus {
    color: shade($input-placeholder-color, 15%);
  }
}

.s-input--empty .s-input__clear {
  visibility: hidden;
}

// Slots
.s-input {
  .s-input__prefix:empty,
  .s-input__suffix:empty {
    display: none;
  }

  .s-input__prefix:not(:empty) {
    color: $input-placeholder-color;
    margin-right: 0.75em;
  }

  .s-input__suffix:not(:empty) {
    color: $input-placeholder-color;
    margin-left: 0.75em;
  }
}
